"use strict";(globalThis.webpackChunkkaal_docs=globalThis.webpackChunkkaal_docs||[]).push([[819],{7571(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"guides/migration-from-temporal","title":"Migration from Temporal","description":"Guide for migrating from Temporal API to native Date API in Kaal v1.0.","source":"@site/docs/guides/migration-from-temporal.md","sourceDirName":"guides","slug":"/guides/migration-from-temporal","permalink":"/kaal/docs/guides/migration-from-temporal","draft":false,"unlisted":false,"editUrl":"https://github.com/DreamStack-us/kaal/tree/main/docs/docs/guides/migration-from-temporal.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Platform Differences","permalink":"/kaal/docs/guides/platform-differences"}}');var r=t(4848),s=t(8453);const i={sidebar_position:4},d="Migration from Temporal",l={},o=[{value:"Overview",id:"overview",level:2},{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"Value Type Change",id:"value-type-change",level:3},{value:"Removed Peer Dependency",id:"removed-peer-dependency",level:3},{value:"Migration Steps",id:"migration-steps",level:2},{value:"1. Update Imports",id:"1-update-imports",level:3},{value:"2. Update Date Creation",id:"2-update-date-creation",level:3},{value:"3. Update Date Arithmetic",id:"3-update-date-arithmetic",level:3},{value:"4. Update Comparisons",id:"4-update-comparisons",level:3},{value:"5. Update Formatting",id:"5-update-formatting",level:3},{value:"6. Update ISO String Conversion",id:"6-update-iso-string-conversion",level:3},{value:"Utility Function Mapping",id:"utility-function-mapping",level:2},{value:"Timezone Considerations",id:"timezone-considerations",level:2},{value:"Temporal Behavior",id:"temporal-behavior",level:3},{value:"Native Date Behavior",id:"native-date-behavior",level:3},{value:"Best Practices",id:"best-practices",level:3},{value:"Validation Migration",id:"validation-migration",level:2},{value:"Bundle Size Impact",id:"bundle-size-impact",level:2},{value:"Need Help?",id:"need-help",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"migration-from-temporal",children:"Migration from Temporal"})}),"\n",(0,r.jsx)(n.p,{children:"Guide for migrating from Temporal API to native Date API in Kaal v1.0."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:["Kaal v1.0 removes the dependency on ",(0,r.jsx)(n.code,{children:"@js-temporal/polyfill"})," in favor of native JavaScript ",(0,r.jsx)(n.code,{children:"Date"})," and ",(0,r.jsx)(n.code,{children:"Intl"})," APIs. This reduces bundle size by approximately 14-52KB."]}),"\n",(0,r.jsx)(n.h2,{id:"breaking-changes",children:"Breaking Changes"}),"\n",(0,r.jsx)(n.h3,{id:"value-type-change",children:"Value Type Change"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before (v0.x):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { Temporal } from '@js-temporal/polyfill';\nimport { DatePicker } from '@dreamstack-us/kaal';\n\nconst [date, setDate] = useState(\n  Temporal.PlainDate.from('2024-01-15')\n);\n\n<DatePicker value={date} onChange={setDate} />\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After (v1.x):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { DatePicker } from '@dreamstack-us/kaal';\n\nconst [date, setDate] = useState(new Date('2024-01-15'));\n\n<DatePicker value={date} onChange={setDate} />\n"})}),"\n",(0,r.jsx)(n.h3,{id:"removed-peer-dependency",children:"Removed Peer Dependency"}),"\n",(0,r.jsxs)(n.p,{children:["Remove ",(0,r.jsx)(n.code,{children:"@js-temporal/polyfill"})," from your dependencies:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm uninstall @js-temporal/polyfill\n"})}),"\n",(0,r.jsx)(n.h2,{id:"migration-steps",children:"Migration Steps"}),"\n",(0,r.jsx)(n.h3,{id:"1-update-imports",children:"1. Update Imports"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { Temporal } from '@js-temporal/polyfill';\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"// Remove the import entirely\n// Use native Date instead\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-update-date-creation",children:"2. Update Date Creation"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"const date = Temporal.PlainDate.from('2024-01-15');\nconst now = Temporal.Now.plainDateISO();\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { parseISODate, today } from '@dreamstack-us/kaal';\n\nconst date = parseISODate('2024-01-15');\nconst now = today();\n\n// Or use native Date\nconst date = new Date('2024-01-15');\nconst now = new Date();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-update-date-arithmetic",children:"3. Update Date Arithmetic"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"const nextMonth = date.add({ months: 1 });\nconst nextWeek = date.add({ days: 7 });\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { addMonths, addDays } from '@dreamstack-us/kaal';\n\nconst nextMonth = addMonths(date, 1);\nconst nextWeek = addDays(date, 7);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-update-comparisons",children:"4. Update Comparisons"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"const isEqual = Temporal.PlainDate.compare(a, b) === 0;\nconst isBefore = Temporal.PlainDate.compare(a, b) < 0;\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { compareDates, isSameDay } from '@dreamstack-us/kaal';\n\nconst isEqual = isSameDay(a, b);\nconst isBefore = compareDates(a, b) < 0;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"5-update-formatting",children:"5. Update Formatting"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"const formatted = date.toLocaleString('en-US', {\n  month: 'long',\n  year: 'numeric',\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { formatYearMonth } from '@dreamstack-us/kaal';\n\nconst formatted = formatYearMonth(date, 'en-US');\n\n// Or use native Intl directly\nconst formatted = new Intl.DateTimeFormat('en-US', {\n  month: 'long',\n  year: 'numeric',\n}).format(date);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"6-update-iso-string-conversion",children:"6. Update ISO String Conversion"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:'const isoString = date.toString(); // "2024-01-15"\nconst fromString = Temporal.PlainDate.from(isoString);\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { toISODateString, parseISODate } from '@dreamstack-us/kaal';\n\nconst isoString = toISODateString(date); // \"2024-01-15\"\nconst fromString = parseISODate(isoString);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"utility-function-mapping",children:"Utility Function Mapping"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Temporal API"}),(0,r.jsx)(n.th,{children:"Kaal v1.x Equivalent"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Temporal.PlainDate.from(iso)"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"parseISODate(iso)"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Temporal.Now.plainDateISO()"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"today()"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date.toString()"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"toISODateString(date)"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date.add({ days: n })"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"addDays(date, n)"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date.add({ months: n })"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"addMonths(date, n)"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Temporal.PlainDate.compare(a, b)"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"compareDates(a, b)"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date.equals(other)"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"isSameDay(date, other)"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date.year"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date.getUTCFullYear()"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date.month"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date.getUTCMonth() + 1"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date.day"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date.getUTCDate()"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date.dayOfWeek"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"getDayOfWeek(date)"})})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"timezone-considerations",children:"Timezone Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"temporal-behavior",children:"Temporal Behavior"}),"\n",(0,r.jsxs)(n.p,{children:["Temporal's ",(0,r.jsx)(n.code,{children:"PlainDate"})," was timezone-agnostic, representing a calendar date without time."]}),"\n",(0,r.jsx)(n.h3,{id:"native-date-behavior",children:"Native Date Behavior"}),"\n",(0,r.jsxs)(n.p,{children:["Native ",(0,r.jsx)(n.code,{children:"Date"})," always has a time component. Kaal's utilities work with UTC to avoid timezone issues:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"// All Kaal date utilities use UTC internally\nconst date = parseISODate('2024-01-15');\ndate.getUTCFullYear(); // 2024\ndate.getUTCMonth();    // 0 (January)\ndate.getUTCDate();     // 15\n\n// Local time methods may differ based on timezone\ndate.getFullYear();    // May be 2024 or different depending on timezone\n"})}),"\n",(0,r.jsx)(n.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Use UTC methods"})," when working with dates:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"date.getUTCFullYear() // not date.getFullYear()\ndate.getUTCMonth()    // not date.getMonth()\ndate.getUTCDate()     // not date.getDate()\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Use Kaal utilities"})," for date manipulation:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { addDays, addMonths, parseISODate, toISODateString } from '@dreamstack-us/kaal';\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Store dates as ISO strings"})," when persisting:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:'const isoString = toISODateString(date);\n// Store "2024-01-15" in database/storage\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"validation-migration",children:"Validation Migration"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before (with Zod):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { z } from 'zod';\nconst schema = z.string().date();\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"After (with Valibot):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { isoDateSchema } from '@dreamstack-us/kaal';\nimport * as v from 'valibot';\n\nconst result = v.safeParse(isoDateSchema, '2024-01-15');\n"})}),"\n",(0,r.jsx)(n.h2,{id:"bundle-size-impact",children:"Bundle Size Impact"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Package"}),(0,r.jsx)(n.th,{children:"Size"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"@js-temporal/polyfill"})}),(0,r.jsx)(n.td,{children:"~14-52KB"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Kaal date utilities"}),(0,r.jsx)(n.td,{children:"~2KB"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Savings"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"~12-50KB"})})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"need-help",children:"Need Help?"}),"\n",(0,r.jsx)(n.p,{children:"If you encounter issues during migration:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Check the ",(0,r.jsx)(n.a,{href:"/docs/api/utilities",children:"API Reference"})," for utility function details"]}),"\n",(0,r.jsxs)(n.li,{children:["Open an issue on ",(0,r.jsx)(n.a,{href:"https://github.com/DreamStack-us/kaal/issues",children:"GitHub"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453(e,n,t){t.d(n,{R:()=>i,x:()=>d});var a=t(6540);const r={},s=a.createContext(r);function i(e){const n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);